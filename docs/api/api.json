{"swagger": "2.0", "info": {"title": "Rest API Doc", "description": "Auto Generated API Docs", "version": "v1"}, "host": "localhost:8000", "schemes": ["http"], "basePath": "/api/v1", "consumes": ["application/json"], "produces": ["application/json"], "securityDefinitions": {"Basic": {"type": "basic"}}, "security": [{"Basic": []}], "paths": {"/addresses/": {"get": {"operationId": "addresses_list", "description": "Address viewset", "parameters": [{"name": "limit", "in": "query", "description": "Number of results to return per page.", "required": false, "type": "integer"}, {"name": "offset", "in": "query", "description": "The initial index from which to return the results.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/AddressList"}}}}}}, "tags": ["addresses"]}, "post": {"operationId": "addresses_create", "description": "Address viewset", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AddressCreateUpdate"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/AddressCreateUpdate"}}}, "tags": ["addresses"]}, "parameters": []}, "/addresses/{id}/": {"get": {"operationId": "addresses_read", "description": "Address viewset", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AddressDetail"}}}, "tags": ["addresses"]}, "put": {"operationId": "addresses_update", "description": "Address viewset", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AddressCreateUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AddressCreateUpdate"}}}, "tags": ["addresses"]}, "patch": {"operationId": "addresses_partial_update", "description": "Address viewset", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/AddressDetail"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/AddressDetail"}}}, "tags": ["addresses"]}, "delete": {"operationId": "addresses_delete", "description": "Address viewset", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["addresses"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/apply-discount-code/": {"post": {"operationId": "apply-discount-code_create", "description": "Apply discount code to cart", "parameters": [], "responses": {"201": {"description": ""}}, "tags": ["apply-discount-code"]}, "parameters": []}, "/carts/": {"get": {"operationId": "carts_list", "description": "Cart viewset", "parameters": [{"name": "limit", "in": "query", "description": "Number of results to return per page.", "required": false, "type": "integer"}, {"name": "offset", "in": "query", "description": "The initial index from which to return the results.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/CartDetail"}}}}}}, "tags": ["carts"]}, "parameters": []}, "/carts/add_to_cart/": {"post": {"operationId": "carts_add_to_cart", "description": "Add product to cart", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CartDetail"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/CartDetail"}}}, "tags": ["carts"]}, "parameters": []}, "/carts/current/": {"get": {"operationId": "carts_current", "description": "Get current cart", "parameters": [{"name": "limit", "in": "query", "description": "Number of results to return per page.", "required": false, "type": "integer"}, {"name": "offset", "in": "query", "description": "The initial index from which to return the results.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/CartDetail"}}}}}}, "tags": ["carts"]}, "parameters": []}, "/carts/delete_item/": {"delete": {"operationId": "carts_delete_item", "description": "Delete cart item", "parameters": [], "responses": {"204": {"description": ""}}, "tags": ["carts"]}, "parameters": []}, "/carts/update_address/": {"patch": {"operationId": "carts_update_address", "description": "Update cart address", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CartDetail"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CartDetail"}}}, "tags": ["carts"]}, "parameters": []}, "/carts/update_item/": {"patch": {"operationId": "carts_update_item", "description": "Update cart item", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CartDetail"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CartDetail"}}}, "tags": ["carts"]}, "parameters": []}, "/carts/{id}/": {"put": {"operationId": "carts_update", "description": "Cart viewset", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CartCreateUpdate"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CartCreateUpdate"}}}, "tags": ["carts"]}, "patch": {"operationId": "carts_partial_update", "description": "Cart viewset", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/CartDetail"}}], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/CartDetail"}}}, "tags": ["carts"]}, "parameters": [{"name": "id", "in": "path", "required": true, "type": "string"}]}, "/products/": {"get": {"operationId": "products_list", "description": "Product viewset", "parameters": [{"name": "category", "in": "query", "description": "", "required": false, "type": "number"}, {"name": "limit", "in": "query", "description": "Number of results to return per page.", "required": false, "type": "integer"}, {"name": "offset", "in": "query", "description": "The initial index from which to return the results.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Product"}}}}}}, "tags": ["products"]}, "parameters": []}, "/products/{slug}/": {"get": {"operationId": "products_read", "description": "Product viewset", "parameters": [], "responses": {"200": {"description": "", "schema": {"$ref": "#/definitions/Product"}}}, "tags": ["products"]}, "parameters": [{"name": "slug", "in": "path", "required": true, "type": "string"}]}, "/search/elastic/": {"get": {"operationId": "search_elastic_list", "description": "Product elasticsearch viewset", "parameters": [], "responses": {"200": {"description": ""}}, "tags": ["search"]}, "parameters": []}, "/search/trigram/": {"get": {"operationId": "search_trigram_list", "description": "Product postgres trigram search viewset", "parameters": [{"name": "query", "in": "query", "description": "A search term.", "required": false, "type": "string"}, {"name": "limit", "in": "query", "description": "Number of results to return per page.", "required": false, "type": "integer"}, {"name": "offset", "in": "query", "description": "The initial index from which to return the results.", "required": false, "type": "integer"}], "responses": {"200": {"description": "", "schema": {"required": ["count", "results"], "type": "object", "properties": {"count": {"type": "integer"}, "next": {"type": "string", "format": "uri", "x-nullable": true}, "previous": {"type": "string", "format": "uri", "x-nullable": true}, "results": {"type": "array", "items": {"$ref": "#/definitions/Product"}}}}}}, "tags": ["search"]}, "parameters": []}, "/token/": {"post": {"operationId": "token_create", "description": "Takes a set of user credentials and returns an access and refresh JSON web\ntoken pair to prove the authentication of those credentials.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenObtainPair"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenObtainPair"}}}, "tags": ["token"]}, "parameters": []}, "/token/refresh/": {"post": {"operationId": "token_refresh_create", "description": "Takes a refresh type JSON web token and returns an access type JSON web\ntoken if the refresh token is valid.", "parameters": [{"name": "data", "in": "body", "required": true, "schema": {"$ref": "#/definitions/TokenRefresh"}}], "responses": {"201": {"description": "", "schema": {"$ref": "#/definitions/TokenRefresh"}}}, "tags": ["token"]}, "parameters": []}}, "definitions": {"AddressList": {"required": ["street", "zip_code"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "title": {"title": "Title", "type": "string", "maxLength": 255, "x-nullable": true}, "street": {"title": "Street", "type": "string", "maxLength": 255, "minLength": 1}, "zip_code": {"title": "Zip code", "type": "string", "pattern": "^[0-9]{5}(?:-[0-9]{4})?$", "maxLength": 5, "minLength": 1}, "phone": {"title": "Phone", "type": "string", "pattern": "^(\\+\\d{1,3})?,?\\s?\\d{8,13}", "maxLength": 15, "x-nullable": true}}}, "AddressCreateUpdate": {"required": ["street", "city", "state", "zip_code", "country"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "title": {"title": "Title", "type": "string", "maxLength": 255, "x-nullable": true}, "street": {"title": "Street", "type": "string", "maxLength": 255, "minLength": 1}, "city": {"title": "City", "type": "string", "maxLength": 255, "minLength": 1}, "state": {"title": "State", "type": "string", "maxLength": 255, "minLength": 1}, "zip_code": {"title": "Zip code", "type": "string", "pattern": "^[0-9]{5}(?:-[0-9]{4})?$", "maxLength": 5, "minLength": 1}, "country": {"title": "Country", "type": "string", "maxLength": 255, "minLength": 1}, "phone": {"title": "Phone", "type": "string", "pattern": "^(\\+\\d{1,3})?,?\\s?\\d{8,13}", "maxLength": 15, "x-nullable": true}}}, "AddressDetail": {"required": ["street", "city", "state", "zip_code", "country"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "title": {"title": "Title", "type": "string", "maxLength": 255, "x-nullable": true}, "street": {"title": "Street", "type": "string", "maxLength": 255, "minLength": 1}, "city": {"title": "City", "type": "string", "maxLength": 255, "minLength": 1}, "state": {"title": "State", "type": "string", "maxLength": 255, "minLength": 1}, "zip_code": {"title": "Zip code", "type": "string", "pattern": "^[0-9]{5}(?:-[0-9]{4})?$", "maxLength": 5, "minLength": 1}, "country": {"title": "Country", "type": "string", "maxLength": 255, "minLength": 1}, "phone": {"title": "Phone", "type": "string", "pattern": "^(\\+\\d{1,3})?,?\\s?\\d{8,13}", "maxLength": 15, "x-nullable": true}, "created": {"title": "Created", "type": "string", "format": "date-time", "readOnly": true}, "modified": {"title": "Modified", "type": "string", "format": "date-time", "readOnly": true}}}, "CartItemDetail": {"required": ["product"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "product": {"title": "Product", "type": "integer"}, "quantity": {"title": "Quantity", "type": "integer", "maximum": 2147483647, "minimum": 0}, "total_price": {"title": "Total price", "type": "string", "readOnly": true}}}, "CartDetail": {"type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "step": {"title": "Step", "type": "string", "enum": ["initial", "pending", "paid"]}, "address": {"$ref": "#/definitions/AddressDetail"}, "items": {"type": "array", "items": {"$ref": "#/definitions/CartItemDetail"}, "readOnly": true}, "total_price": {"title": "Total price", "type": "string", "readOnly": true}, "created": {"title": "Created", "type": "string", "format": "date-time", "readOnly": true}, "modified": {"title": "Modified", "type": "string", "format": "date-time", "readOnly": true}}}, "CartCreateUpdate": {"required": ["address"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "step": {"title": "Step", "type": "string", "enum": ["initial", "pending", "paid"]}, "address": {"title": "Address", "type": "integer"}, "created": {"title": "Created", "type": "string", "format": "date-time", "readOnly": true}, "modified": {"title": "Modified", "type": "string", "format": "date-time", "readOnly": true}}}, "CategoryList": {"required": ["title", "slug", "description"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "title": {"title": "Title", "type": "string", "maxLength": 255, "minLength": 1}, "slug": {"title": "Slug", "type": "string", "format": "slug", "maxLength": 255, "minLength": 1}, "description": {"title": "Description", "type": "string", "minLength": 1}, "order": {"title": "Order", "type": "integer", "maximum": 2147483647, "minimum": -2147483648, "x-nullable": true}, "image": {"title": "Image", "type": "string", "readOnly": true, "x-nullable": true, "format": "uri"}}}, "Product": {"required": ["slug", "title", "base_price"], "type": "object", "properties": {"id": {"title": "ID", "type": "integer", "readOnly": true}, "slug": {"title": "Slug", "type": "string", "format": "slug", "pattern": "^[-a-zA-Z0-9_]+$", "maxLength": 255, "minLength": 1}, "title": {"title": "Title", "type": "string", "maxLength": 255, "minLength": 1}, "category": {"$ref": "#/definitions/CategoryList"}, "base_price": {"title": "Base price", "type": "string", "format": "decimal"}, "discount_amount": {"title": "Discount amount", "type": "string", "format": "decimal"}, "discount_percentage": {"title": "Discount percentage", "type": "string", "readOnly": true}, "final_price": {"title": "Final price", "type": "string", "format": "decimal"}, "has_discount": {"title": "Has discount", "type": "boolean"}, "quantity": {"title": "Quantity", "type": "integer", "maximum": 2147483647, "minimum": 0}, "description": {"title": "Description", "type": "string"}, "image": {"title": "Image", "type": "string", "readOnly": true, "format": "uri"}}}, "TokenObtainPair": {"required": ["username", "password"], "type": "object", "properties": {"username": {"title": "Username", "type": "string", "minLength": 1}, "password": {"title": "Password", "type": "string", "minLength": 1}}}, "TokenRefresh": {"required": ["refresh"], "type": "object", "properties": {"refresh": {"title": "Refresh", "type": "string", "minLength": 1}, "access": {"title": "Access", "type": "string", "readOnly": true, "minLength": 1}}}}}